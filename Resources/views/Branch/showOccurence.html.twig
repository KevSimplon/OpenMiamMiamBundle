{% set branchOccurenceClass=(nextBranchOccurrence is not null and openingDateTime is not null) ? 'closed' : '' %}

<div id="branch-occurrence" class="branch-occurence phone-only {{ branchOccurenceClass }}">
    {% if nextBranchOccurrence is not null %}
        <div class="pull-left">
            <span class="glyphicon glyphicon-time"></span>
        </div>
        <div class="branch-next-occurence">
            <h2>
                <strong>{{ 'zone.occurrence.title'|trans }}</strong>
            </h2>
            <p>
                <a href="#" id="branch-next-occurrence-date">
                    {{ nextBranchOccurrence.begin|format_date('eee dd MMMM')|capitalize }}
                    {{ nextBranchOccurrence.begin|format_time('HH:mm') }}&nbsp;-&nbsp;{{ nextBranchOccurrence.end|format_time('HH:mm') }}
                </a>
            </p>
        </div>
        {% if openingDateTime is null and closingDateTime is not null %}
            <div class="branch-occurrence-order-before">
                {{ 'zone.occurrence.order.before'|trans }}
                {{ closingDateTime|format_datetime('dd/MM') }}&nbsp;{{ closingDateTime|format_datetime('HH:mm') }}
            </div>
        {% elseif openingDateTime is not null %}
            <div class="branch-occurrence-order-from">
                {{ 'zone.occurrence.order.from'|trans({'%date%': openingDateTime|format_datetime('dd MMMM'), '%time%': openingDateTime|format_datetime('HH:mm')}) }}
            </div>
        {% endif %}
    {% else %}
        {{ 'zone.occurrence.no.next.date'|trans }}
    {% endif %}
</div>